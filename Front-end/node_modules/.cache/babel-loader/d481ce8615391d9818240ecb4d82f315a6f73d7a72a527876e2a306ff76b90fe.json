{"ast":null,"code":"var _jsxFileName = \"/Users/anasjavaid/Desktop/uOttawa Hackathon/uOttaHack/Front-end/src/components/NewsTicker.js\";\nimport React, { Component } from 'react';\nimport './NewsTicker.css'; // You'll need to create this CSS file for styling\nimport Messaging from './Messaging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NewsTicker extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsItems: ['News 1', 'News 2', 'News 3', 'News 4', 'News 5'\n      // Add more news items as needed\n      ],\n      currentIndex: 0,\n      position: null // State to hold position\n    };\n    this.startTicker = () => {\n      // Set up a timer to move the ticker\n      this.tickerInterval = setInterval(() => {\n        // Update the current index\n        this.setState(prevState => ({\n          currentIndex: prevState.currentIndex === prevState.newsItems.length - 1 ? 0 : prevState.currentIndex + 1\n        }));\n      }, 2000); // Adjust the interval as needed (in milliseconds)\n    };\n  }\n  componentDidMount() {\n    // Start the ticker\n    this.startTicker();\n  }\n  componentWillUnmount() {\n    // Stop the ticker when the component is unmounted\n    clearInterval(this.tickerInterval);\n  }\n  // Update state with new position when received via props\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.position !== this.props.position) {\n      this.setState({\n        position: this.props.position\n      }, () => {\n        if (this.state.position) {\n          const {\n            x,\n            y,\n            car_no\n          } = this.state.position;\n          const news_position = {\n            x: x,\n            y: y,\n            car_no: car_no\n          };\n          const payload = JSON.stringify(news_position);\n          // Publish dot position to a topic named 'car'\n          Messaging.publish('cars', payload);\n\n          // Pass position to parent component\n          this.props.updatePosition(news_position);\n        }\n      });\n    }\n  }\n  render() {\n    const {\n      newsItems,\n      currentIndex,\n      position\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-ticker-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-ticker\",\n        children: newsItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: index === currentIndex ? 'news-item active' : 'news-item',\n          children: item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), position &&\n      /*#__PURE__*/\n      // Render position if available\n      _jsxDEV(\"div\", {\n        className: \"position-display\",\n        children: [\"Position: \", position.x, \", \", position.y, \" - Car: \", position.car_no]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default NewsTicker;","map":{"version":3,"names":["React","Component","Messaging","jsxDEV","_jsxDEV","NewsTicker","constructor","args","state","newsItems","currentIndex","position","startTicker","tickerInterval","setInterval","setState","prevState","length","componentDidMount","componentWillUnmount","clearInterval","componentDidUpdate","prevProps","props","x","y","car_no","news_position","payload","JSON","stringify","publish","updatePosition","render","className","children","map","item","index","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/anasjavaid/Desktop/uOttawa Hackathon/uOttaHack/Front-end/src/components/NewsTicker.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './NewsTicker.css'; // You'll need to create this CSS file for styling\nimport Messaging from './Messaging';\n\nclass NewsTicker extends Component {\n  state = {\n    newsItems: [\n      'News 1',\n      'News 2',\n      'News 3',\n      'News 4',\n      'News 5',\n      // Add more news items as needed\n    ],\n    currentIndex: 0,\n    position: null, // State to hold position\n  };\n\n  componentDidMount() {\n    // Start the ticker\n    this.startTicker();\n  }\n\n  componentWillUnmount() {\n    // Stop the ticker when the component is unmounted\n    clearInterval(this.tickerInterval);\n  }\n\n  startTicker = () => {\n    // Set up a timer to move the ticker\n    this.tickerInterval = setInterval(() => {\n      // Update the current index\n      this.setState((prevState) => ({\n        currentIndex:\n          prevState.currentIndex === prevState.newsItems.length - 1\n            ? 0\n            : prevState.currentIndex + 1,\n      }));\n    }, 2000); // Adjust the interval as needed (in milliseconds)\n  };\n\n  // Update state with new position when received via props\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.position !== this.props.position) {\n      this.setState({ position: this.props.position }, () => {\n        if (this.state.position) {\n          const { x, y, car_no } = this.state.position;\n          const news_position = {\n            x: x,\n            y: y,\n            car_no: car_no\n          };\n    \n          const payload = JSON.stringify(news_position);\n          // Publish dot position to a topic named 'car'\n          Messaging.publish('cars', payload);\n    \n          // Pass position to parent component\n          this.props.updatePosition(news_position);\n        }\n      });\n    }\n  }\n\n  \n  render() {\n    const { newsItems, currentIndex, position } = this.state;\n\n    return (\n      <div className=\"news-ticker-container\">\n        <div className=\"news-ticker\">\n          {newsItems.map((item, index) => (\n            <div\n              key={index}\n              className={\n                index === currentIndex ? 'news-item active' : 'news-item'\n              }\n            >\n              {item}\n            </div>\n          ))}\n        </div>\n        {position && ( // Render position if available\n          <div className=\"position-display\">\n            Position: {position.x}, {position.y} - Car: {position.car_no}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default NewsTicker;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,kBAAkB,CAAC,CAAC;AAC3B,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,UAAU,SAASJ,SAAS,CAAC;EAAAK,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACjCC,KAAK,GAAG;MACNC,SAAS,EAAE,CACT,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR;MACA;MAAA,CACD;MACDC,YAAY,EAAE,CAAC;MACfC,QAAQ,EAAE,IAAI,CAAE;IAClB,CAAC;IAAA,KAYDC,WAAW,GAAG,MAAM;MAClB;MACA,IAAI,CAACC,cAAc,GAAGC,WAAW,CAAC,MAAM;QACtC;QACA,IAAI,CAACC,QAAQ,CAAEC,SAAS,KAAM;UAC5BN,YAAY,EACVM,SAAS,CAACN,YAAY,KAAKM,SAAS,CAACP,SAAS,CAACQ,MAAM,GAAG,CAAC,GACrD,CAAC,GACDD,SAAS,CAACN,YAAY,GAAG;QACjC,CAAC,CAAC,CAAC;MACL,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACZ,CAAC;EAAA;EArBDQ,iBAAiBA,CAAA,EAAG;IAClB;IACA,IAAI,CAACN,WAAW,CAAC,CAAC;EACpB;EAEAO,oBAAoBA,CAAA,EAAG;IACrB;IACAC,aAAa,CAAC,IAAI,CAACP,cAAc,CAAC;EACpC;EAeA;EACAQ,kBAAkBA,CAACC,SAAS,EAAEN,SAAS,EAAE;IACvC,IAAIM,SAAS,CAACX,QAAQ,KAAK,IAAI,CAACY,KAAK,CAACZ,QAAQ,EAAE;MAC9C,IAAI,CAACI,QAAQ,CAAC;QAAEJ,QAAQ,EAAE,IAAI,CAACY,KAAK,CAACZ;MAAS,CAAC,EAAE,MAAM;QACrD,IAAI,IAAI,CAACH,KAAK,CAACG,QAAQ,EAAE;UACvB,MAAM;YAAEa,CAAC;YAAEC,CAAC;YAAEC;UAAO,CAAC,GAAG,IAAI,CAAClB,KAAK,CAACG,QAAQ;UAC5C,MAAMgB,aAAa,GAAG;YACpBH,CAAC,EAAEA,CAAC;YACJC,CAAC,EAAEA,CAAC;YACJC,MAAM,EAAEA;UACV,CAAC;UAED,MAAME,OAAO,GAAGC,IAAI,CAACC,SAAS,CAACH,aAAa,CAAC;UAC7C;UACAzB,SAAS,CAAC6B,OAAO,CAAC,MAAM,EAAEH,OAAO,CAAC;;UAElC;UACA,IAAI,CAACL,KAAK,CAACS,cAAc,CAACL,aAAa,CAAC;QAC1C;MACF,CAAC,CAAC;IACJ;EACF;EAGAM,MAAMA,CAAA,EAAG;IACP,MAAM;MAAExB,SAAS;MAAEC,YAAY;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACH,KAAK;IAExD,oBACEJ,OAAA;MAAK8B,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpC/B,OAAA;QAAK8B,SAAS,EAAC,aAAa;QAAAC,QAAA,EACzB1B,SAAS,CAAC2B,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACzBlC,OAAA;UAEE8B,SAAS,EACPI,KAAK,KAAK5B,YAAY,GAAG,kBAAkB,GAAG,WAC/C;UAAAyB,QAAA,EAEAE;QAAI,GALAC,KAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACL/B,QAAQ;MAAA;MAAM;MACbP,OAAA;QAAK8B,SAAS,EAAC,kBAAkB;QAAAC,QAAA,GAAC,YACtB,EAACxB,QAAQ,CAACa,CAAC,EAAC,IAAE,EAACb,QAAQ,CAACc,CAAC,EAAC,UAAQ,EAACd,QAAQ,CAACe,MAAM;MAAA;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEV;AACF;AAEA,eAAerC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}