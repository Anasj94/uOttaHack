{"ast":null,"code":"var _jsxFileName = \"/Users/anasjavaid/Desktop/uOttawa Hackathon/uOttaHack/Front-end/src/components/NewsTicker.js\";\nimport React, { Component } from 'react';\nimport './NewsTicker.css'; // You'll need to create this CSS file for styling\nimport Messaging from './Messaging'; // Import your Messaging module\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NewsTicker extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsItems: [],\n      // Initialize with an empty array\n      currentIndex: 0\n    };\n    this.startTicker = () => {\n      // Set up a timer to move the ticker\n      this.tickerInterval = setInterval(() => {\n        // Update the current index\n        this.setState(prevState => ({\n          currentIndex: prevState.currentIndex === prevState.newsItems.length - 1 ? 0 : prevState.currentIndex + 1\n        }));\n      }, 2000); // Adjust the interval as needed (in milliseconds)\n    };\n    this.handleMessage = message => {\n      // Handle incoming message from MQTT\n      const newValue = message.payloadString;\n      // Check if the new value is already present in newsItems\n      if (!this.state.newsItems.includes(newValue)) {\n        this.updateNewsItems(newValue);\n      }\n    };\n    this.updateNewsItems = newValue => {\n      // Update news items received from MQTT message\n      this.setState(prevState => ({\n        newsItems: [...prevState.newsItems, newValue] // Append the new value to existing news items\n      }));\n    };\n  }\n  componentDidMount() {\n    // Register the component as a callback with the Messaging module\n    Messaging.register(this.handleMessage);\n\n    // Start the ticker\n    this.startTicker();\n  }\n  componentWillUnmount() {\n    // Stop the ticker when the component is unmounted\n    clearInterval(this.tickerInterval);\n  }\n  render() {\n    const {\n      newsItems,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-ticker-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-ticker\",\n        children: newsItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: index === currentIndex ? 'news-item active' : 'news-item',\n          children: item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default NewsTicker;","map":{"version":3,"names":["React","Component","Messaging","jsxDEV","_jsxDEV","NewsTicker","constructor","args","state","newsItems","currentIndex","startTicker","tickerInterval","setInterval","setState","prevState","length","handleMessage","message","newValue","payloadString","includes","updateNewsItems","componentDidMount","register","componentWillUnmount","clearInterval","render","className","children","map","item","index","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/anasjavaid/Desktop/uOttawa Hackathon/uOttaHack/Front-end/src/components/NewsTicker.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './NewsTicker.css'; // You'll need to create this CSS file for styling\nimport Messaging from './Messaging'; // Import your Messaging module\n\nclass NewsTicker extends Component {\n  state = {\n    newsItems: [], // Initialize with an empty array\n    currentIndex: 0,\n  };\n\n  componentDidMount() {\n    // Register the component as a callback with the Messaging module\n    Messaging.register(this.handleMessage);\n\n    // Start the ticker\n    this.startTicker();\n  }\n\n  componentWillUnmount() {\n    // Stop the ticker when the component is unmounted\n    clearInterval(this.tickerInterval);\n  }\n\n  startTicker = () => {\n    // Set up a timer to move the ticker\n    this.tickerInterval = setInterval(() => {\n      // Update the current index\n      this.setState((prevState) => ({\n        currentIndex:\n          prevState.currentIndex === prevState.newsItems.length - 1\n            ? 0\n            : prevState.currentIndex + 1,\n      }));\n    }, 2000); // Adjust the interval as needed (in milliseconds)\n  };\n\n  handleMessage = (message) => {\n    // Handle incoming message from MQTT\n    const newValue = message.payloadString;\n    // Check if the new value is already present in newsItems\n    if (!this.state.newsItems.includes(newValue)) {\n      this.updateNewsItems(newValue);\n    }\n  };\n\nupdateNewsItems = (newValue) => {\n  // Update news items received from MQTT message\n  this.setState((prevState) => ({\n    newsItems: [...prevState.newsItems, newValue], // Append the new value to existing news items\n  }));\n};\n\n  render() {\n    const { newsItems, currentIndex } = this.state;\n\n    return (\n      <div className=\"news-ticker-container\">\n        <div className=\"news-ticker\">\n          {newsItems.map((item, index) => (\n            <div\n              key={index}\n              className={\n                index === currentIndex ? 'news-item active' : 'news-item'\n              }\n            >\n              {item}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewsTicker;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,kBAAkB,CAAC,CAAC;AAC3B,OAAOC,SAAS,MAAM,aAAa,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,UAAU,SAASJ,SAAS,CAAC;EAAAK,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACjCC,KAAK,GAAG;MACNC,SAAS,EAAE,EAAE;MAAE;MACfC,YAAY,EAAE;IAChB,CAAC;IAAA,KAeDC,WAAW,GAAG,MAAM;MAClB;MACA,IAAI,CAACC,cAAc,GAAGC,WAAW,CAAC,MAAM;QACtC;QACA,IAAI,CAACC,QAAQ,CAAEC,SAAS,KAAM;UAC5BL,YAAY,EACVK,SAAS,CAACL,YAAY,KAAKK,SAAS,CAACN,SAAS,CAACO,MAAM,GAAG,CAAC,GACrD,CAAC,GACDD,SAAS,CAACL,YAAY,GAAG;QACjC,CAAC,CAAC,CAAC;MACL,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACZ,CAAC;IAAA,KAEDO,aAAa,GAAIC,OAAO,IAAK;MAC3B;MACA,MAAMC,QAAQ,GAAGD,OAAO,CAACE,aAAa;MACtC;MACA,IAAI,CAAC,IAAI,CAACZ,KAAK,CAACC,SAAS,CAACY,QAAQ,CAACF,QAAQ,CAAC,EAAE;QAC5C,IAAI,CAACG,eAAe,CAACH,QAAQ,CAAC;MAChC;IACF,CAAC;IAAA,KAEHG,eAAe,GAAIH,QAAQ,IAAK;MAC9B;MACA,IAAI,CAACL,QAAQ,CAAEC,SAAS,KAAM;QAC5BN,SAAS,EAAE,CAAC,GAAGM,SAAS,CAACN,SAAS,EAAEU,QAAQ,CAAC,CAAE;MACjD,CAAC,CAAC,CAAC;IACL,CAAC;EAAA;EAxCCI,iBAAiBA,CAAA,EAAG;IAClB;IACArB,SAAS,CAACsB,QAAQ,CAAC,IAAI,CAACP,aAAa,CAAC;;IAEtC;IACA,IAAI,CAACN,WAAW,CAAC,CAAC;EACpB;EAEAc,oBAAoBA,CAAA,EAAG;IACrB;IACAC,aAAa,CAAC,IAAI,CAACd,cAAc,CAAC;EACpC;EA+BAe,MAAMA,CAAA,EAAG;IACP,MAAM;MAAElB,SAAS;MAAEC;IAAa,CAAC,GAAG,IAAI,CAACF,KAAK;IAE9C,oBACEJ,OAAA;MAAKwB,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpCzB,OAAA;QAAKwB,SAAS,EAAC,aAAa;QAAAC,QAAA,EACzBpB,SAAS,CAACqB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACzB5B,OAAA;UAEEwB,SAAS,EACPI,KAAK,KAAKtB,YAAY,GAAG,kBAAkB,GAAG,WAC/C;UAAAmB,QAAA,EAEAE;QAAI,GALAC,KAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AAEA,eAAe/B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}